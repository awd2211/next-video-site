# ====================================
# VideoSite Production Configuration
# ====================================
# Copy this file to .env.production and fill in the values
# NEVER commit .env.production to git!

# Application
DEBUG=False
ENVIRONMENT=production
SECRET_KEY=                                    # Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET_KEY=                                # Generate with: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=30

# CORS
CORS_ORIGINS=["https://videosite.com","https://www.videosite.com","https://admin.videosite.com"]

# Database
DATABASE_URL=postgresql+asyncpg://username:password@host:5432/videosite_prod?ssl=require
DATABASE_URL_SYNC=postgresql://username:password@host:5432/videosite_prod?sslmode=require
DB_POOL_SIZE=30
DB_MAX_OVERFLOW=60
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Redis
REDIS_URL=rediss://username:password@host:6379/0

# MinIO / S3
MINIO_ENDPOINT=                                # e.g., s3.amazonaws.com
MINIO_ACCESS_KEY=
MINIO_SECRET_KEY=
MINIO_BUCKET=videosite-videos-prod
MINIO_SECURE=True
MINIO_PUBLIC_URL=                              # e.g., https://cdn.videosite.com

# ====================================
# PAYMENT GATEWAYS - LIVE MODE
# ====================================

# Stripe (LIVE - NOT TEST!)
STRIPE_SECRET_KEY=sk_live_                     # Get from https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_live_
STRIPE_WEBHOOK_SECRET=whsec_                   # Get from webhook configuration

# PayPal (LIVE - NOT SANDBOX!)
PAYPAL_CLIENT_ID=                              # Get from https://developer.paypal.com
PAYPAL_CLIENT_SECRET=
PAYPAL_ENVIRONMENT=live

# Alipay (PRODUCTION - NOT DEV!)
ALIPAY_APP_ID=
ALIPAY_PRIVATE_KEY=
ALIPAY_PUBLIC_KEY=
ALIPAY_GATEWAY_URL=https://openapi.alipay.com/gateway.do

# ====================================
# Email
# ====================================
SMTP_HOST=                                     # e.g., smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@videosite.com
SMTP_FROM_NAME=VideoSite
SMTP_USE_TLS=True

# Admin Notifications
ADMIN_NOTIFICATION_EMAIL=admin@videosite.com
ADMIN_NOTIFICATION_WEBHOOK=                    # Optional: Slack webhook URL

# ====================================
# Security
# ====================================
ENABLE_SECURITY_HEADERS=True
HSTS_MAX_AGE=31536000
CSP_POLICY=default-src 'self'; script-src 'self' https://js.stripe.com; frame-src https://js.stripe.com;
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ====================================
# Logging & Monitoring
# ====================================
LOG_LEVEL=INFO
LOG_FILE=/var/log/videosite/app.log
ENABLE_SQL_LOGGING=False
SLOW_API_THRESHOLD_MS=1000
SLOW_QUERY_THRESHOLD_MS=500
ENABLE_PERFORMANCE_MONITORING=True

# Optional: Sentry for error tracking
# SENTRY_DSN=https://xxxxx@sentry.io/xxxxx
