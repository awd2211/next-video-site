# 安全策略

## 支持的版本

以下是当前支持安全更新的 VideoSite 版本：

| 版本 | 支持状态 |
| ------- | ------------------ |
| 1.0.x   | :white_check_mark: |
| < 1.0   | :x:                |

## 报告漏洞

VideoSite 团队和社区非常重视安全问题。我们感谢您的努力和负责任的披露，并将尽一切努力确认您的贡献。

### 报告流程

如果您发现了安全漏洞，**请不要通过公开的 GitHub issue 报告**。

请通过以下方式之一私下报告：

1. **GitHub 安全建议** (推荐)
   - 访问: https://github.com/awd2211/next-video-site/security/advisories/new
   - 填写表单，包括漏洞的详细描述

2. **电子邮件报告**
   - 发送邮件至: security@videosite.example.com (请替换为实际邮箱)
   - 主题格式: `[SECURITY] 简短描述`

### 报告内容

请在报告中包含以下信息：

- **漏洞类型** (例如: SQL 注入, XSS, CSRF 等)
- **受影响的组件** (前端、后端、数据库等)
- **影响范围** 和严重程度评估
- **复现步骤** - 详细的步骤说明
- **概念验证** (POC) - 如果可能，提供示例代码
- **潜在影响** - 漏洞可能造成的危害
- **建议的修复方案** (如果有)

### 示例报告模板

```markdown
## 漏洞摘要
[简要描述漏洞]

## 严重程度
[低/中/高/严重]

## 受影响版本
[例如: 1.0.0 - 1.0.5]

## 漏洞详情
[详细描述漏洞的技术细节]

## 复现步骤
1. [步骤 1]
2. [步骤 2]
3. [步骤 3]

## 概念验证
```代码
[POC 代码]
```

## 潜在影响
[描述可能的攻击场景和影响]

## 建议修复
[如果有修复建议，请在此描述]

## 发现者信息
[您的姓名/昵称，是否希望公开致谢]
```

## 响应时间

我们承诺在以下时间内响应安全报告：

- **初始响应**: 48 小时内确认收到报告
- **初步评估**: 7 天内提供漏洞严重程度评估
- **修复计划**: 14 天内制定修复计划
- **补丁发布**: 根据严重程度，30-90 天内发布补丁

## 严重程度分类

我们使用 CVSS (通用漏洞评分系统) 来评估漏洞严重程度：

| 评分 | 严重程度 | 响应时间 |
|------|----------|----------|
| 9.0-10.0 | 严重 (Critical) | 立即 |
| 7.0-8.9 | 高 (High) | 7 天 |
| 4.0-6.9 | 中 (Medium) | 30 天 |
| 0.1-3.9 | 低 (Low) | 90 天 |

## 安全更新通知

安全更新将通过以下渠道发布：

1. **GitHub 安全公告**: https://github.com/awd2211/next-video-site/security/advisories
2. **Release Notes**: 在版本发布说明中标注
3. **CHANGELOG.md**: 在更新日志中记录
4. **邮件列表**: (如果设置) 发送给订阅者

## 披露政策

我们遵循负责任的披露原则：

1. **私下报告**: 安全研究人员私下报告漏洞
2. **确认和修复**: 我们确认、修复并测试漏洞
3. **补丁发布**: 发布包含修复的新版本
4. **公开披露**: 在补丁发布后 7-30 天公开漏洞详情
5. **致谢**: 在安全公告中感谢报告者(如果同意)

## 安全最佳实践

使用 VideoSite 时，建议遵循以下安全最佳实践：

### 部署安全

- 使用强随机的 `SECRET_KEY` 和 `JWT_SECRET_KEY`
- 启用 HTTPS (使用 SSL/TLS 证书)
- 配置防火墙，仅开放必要端口
- 使用环境变量管理敏感配置，不要硬编码
- 定期更新依赖包到最新版本
- 配置请求限流和 IP 黑名单

### 数据库安全

- 使用强密码保护数据库
- 限制数据库访问权限
- 定期备份数据
- 启用数据库连接加密

### 应用安全

- 定期更新到最新稳定版本
- 监控应用日志，及时发现异常
- 实施内容安全策略 (CSP)
- 验证和清理所有用户输入
- 使用参数化查询防止 SQL 注入

### 密码安全

- 强制用户使用强密码
- 启用双因素认证 (2FA)
- 实施密码重置安全机制
- 限制登录尝试次数

## 已知安全功能

VideoSite 已实现以下安全功能：

- ✅ JWT 令牌认证
- ✅ 密码 bcrypt 哈希
- ✅ CORS 配置
- ✅ SQL 注入防护 (参数化查询)
- ✅ XSS 防护 (输入验证和输出转义)
- ✅ CSRF 保护
- ✅ 请求限流 (Rate Limiting)
- ✅ IP 黑名单
- ✅ 操作日志审计
- ✅ 安全响应头

## 安全审计

我们欢迎安全研究人员对项目进行安全审计。如果您有兴趣进行全面的安全审计，请联系我们。

## Bug 赏金计划

目前我们还没有正式的 Bug 赏金计划，但我们非常感谢安全研究人员的贡献，并会在以下方面表示感谢：

- 在安全公告中公开致谢
- 在项目的 CONTRIBUTORS 文件中列出
- 在 README 中的特别感谢部分提及

## 联系方式

如有安全相关的问题或疑虑，请联系：

- **安全邮箱**: security@videosite.example.com
- **GitHub Security**: https://github.com/awd2211/next-video-site/security

---

**感谢您帮助保持 VideoSite 的安全！** 🔒
